:javascript
  google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);

  function drawChart() {
      var data = new google.visualization.DataTable();

      data.addColumn('date', 'Date');
      data.addColumn('number', 'Restaurant rating',{role: 'annotation'}  );
     data.addColumn('number', 'Service rating',{role: 'annotation'}  );

      rating_data =#{@rating.to_json};

      for(var i=0; i< rating_data.length; i++){
        rating_data[i][0] = new Date(rating_data[i][0]*1000);
      }
      data.addRows(rating_data);

      var options = {
          pointSize: 5,
          vAxis: {format:'#',
                    viewWindow:{
                      max:5,
                      min:0
                    }
                  }
      };

      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
      chart.draw(data, options);
  }
.row-fluid
  .span3
    = render :partial => 'sidebar'

  .span9.analytics
    = render :partial => 'subheading', :locals => {:heading => 'Restaurant'}

    #reviews_score
      .btn-group{"data-toggle" => "buttons-checkbox"}
        = button_tag class: "btn rating-box" do
          .score=@reviews_score.category_score("restaurant").round(1)
          .category Restaurant

        - @reviews_score.category_features_scores("restaurant").each do |k,v|
          = button_tag class: "btn rating-box" do
            .score=v.round(1)
            .category= k.humanize

    %h4 Restaurant Trend
    #chart_div
